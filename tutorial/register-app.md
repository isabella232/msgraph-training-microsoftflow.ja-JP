<!-- markdownlint-disable MD002 MD041 -->

この演習では、カスタムコネクタに対して委任されたアクセス許可を提供するために使用される新しい Azure Active Directory アプリケーションを作成します。

ブラウザーを開き、 [Azure Active Directory 管理センター](https://aad.portal.azure.com)に移動します。 左側のナビゲーションメニューで [ **Azure Active directory** ] リンクを選択し、 **azure active directory**ブレードの [**管理**] セクションで [**アプリの登録**] エントリを選択します。

![Azure Active Directory 管理センターの Azure Active Directory ブレードのスクリーンショット](./images/app-reg1.png)

**アプリ登録**ブレードの上部にある [**新しいアプリケーション登録**] メニュー項目を選択します。

![Azure Active Directory 管理センターのアプリ登録ブレードのスクリーンショット](./images/app-reg2.png)

[ `MS Graph Batch App` **名前**] フィールドにと`https://localhost.com/$batch`入力し、[**サインオン URL** ] フィールドにと入力して、[**作成**] を選択します。

![Azure Active Directory 管理センターで新しいアプリを登録するための作成フォームのスクリーンショット](./images/app-reg3.png)

[ **MS Graph バッチアプリ**] ページで、アプリケーションの**アプリケーション ID**をコピーします。 次の手順でこれを行う必要があります。

![登録済みアプリケーションページのスクリーンショット](./images/app-reg4.png)

[アプリケーション名] の下にある**設定**ギアを選択し、[設定] ブレードの [**必要なアクセス許可**] メニュー項目を選択します。 **必要なアクセス許可**のブレードの上部にある [**追加**] を選択します。

![必要なアクセス許可ブレードのスクリーンショット](./images/app-perms1.png)

[ **ADD api access** blade] で [ **api の選択**] オプションを選択し、[ **Microsoft Graph** ] 項目を選択して、ブレードの下部にある **[選択**] を選択します。

![[API ブレードの選択] のスクリーンショット](./images/app-perms2.png)

[**アクセスを有効にする**] ブレードで、[委任された**アクセス許可**] セクションまで下にスクロールします。 [**すべてのグループの読み取りと書き込み**] アクセス許可を選択し、ブレードの下部にある **[選択]** を選択します。 **ADD API access** blade の下部にある [**完了**] を選択します。

 ![アクセスブレードを有効にするためのスクリーンショット](./images/app-perms3.png)

**Settings** blade で [ **Keys** ] メニュー項目を選択します。 キー `forever`の**説明**にを入力し、[**期間**] ドロップダウンメニューから [**無期限**] を選択します。 [**キー** ] ブレードの上部にある [**保存**] を選択します。 新しいキーのキー値をコピーします。 次の手順でこれを行う必要があります。

![キーブレードのスクリーンショット](./images/app-key1.png)

> [!IMPORTANT]
> この手順は、このブレードを閉じるとキーにアクセスできなくなるため、重要です。 このキーを、今後の演習で使用するテキストエディターに保存します。

Teams プロパティなど、Microsoft Graph からアクセスできる追加のサービスの管理を有効にするには、特定のサービスの管理を有効にするために、追加の適切なスコープを選択する必要があります。 たとえば、OneNote ノートブックまたはプランナープラン、バケット、タスクの作成を可能にするソリューションを拡張するには、関連する Api に必要なアクセス許可スコープを追加する必要があります。
